{% extends 'base.html' %}

{% block title %}Let's Quiz | {{ quiz.title }} v√©ge{% endblock title %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">

      <div class="card shadow-lg border-0 rounded-3 quiz-card text-center">
        <div class="card-body p-4">

          <h2 class="h3 mb-3">{{ quiz.title }} v√©ge!</h2>

          <p class="text-muted mb-1">√ñsszes√≠tett pontsz√°mod:</p>
          <div class="display-4 font-weight-bold text-success mb-3">
            {{ total_score }}
          </div>

          <div class="mt-3">
            <!-- Ranglista ‚Äì maradhat s√°rga tr√≥fea gomb -->
            <a href="{% url 'quiz:leaderboard' %}" class="btn btn-lg btn-info btn-continue mt-2 ml-2">
              üèÜ N√©zd meg a ranglist√°t
            </a>

            <!-- √ñsszes√≠t≈ë oldal (quiz_results) ‚Äì lila gomb -->
            <a href="{% url 'quiz:quiz_results' quiz.id %}"
               class="btn btn-lg btn-info btn-continue mt-2 ml-2">
              üìä Eredm√©nyek megtekint√©se
            </a>

            <!-- Kv√≠z √∫jrakezd√©se ‚Äì saj√°t st√≠lus, NEM s√°rga -->
            <button 
              type="button"
              class="btn btn-lg btn-restart mt-2 ml-2"
              data-toggle="modal"
              data-target="#restartModal">
              üîÅ Kv√≠z √∫jrakezd√©se
            </button>
          </div>

        </div>
      </div>

      <!-- Modal -->
      <div class="modal fade" id="restartModal" tabindex="-1" role="dialog" aria-labelledby="restartModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header modal-header-restart">
              <h5 class="modal-title" id="restartModalLabel">Kv√≠z √∫jrakezd√©se</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Bez√°r√°s">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              Biztosan √∫jra szeretn√©d kezdeni a kv√≠zt?<br>
              Az eddigi pontsz√°mod <strong>null√°z√≥dni fog</strong>.
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">M√©gse</button>
              <a href="{% url 'quiz:restart_quiz' quiz.id %}" class="btn btn-danger">
                Igen, kezdd √∫jra
              </a>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
{% endblock content %}
