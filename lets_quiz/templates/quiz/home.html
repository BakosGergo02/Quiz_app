{% extends 'base.html' %}
{% block title %}Let's Quiz | Kezd≈ëlap{% endblock title %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-9">

      <div class="quiz-card text-center">

        {% if not request.user.is_authenticated %}
          <!-- NEM BEJELENTKEZETT FELHASZN√ÅL√ì -->
          <h1 class="h3 mb-2">√údv a Quiz App oldal√°n!</h1>
          <p class="text-muted mb-4">
            Online kv√≠zekkel tesztelheted a tud√°sodat k√ºl√∂nb√∂z≈ë t√©m√°kban.
          </p>

          <p class="mb-1"><strong>Regisztr√°lj vagy jelentkezz be, hogy elkezdhess j√°tszani:</strong></p>

          <div class="mt-3">
            <a href="{% url 'quiz:register' %}" class="btn btn-lg btn-info mt-2 mr-2">
              <i class="fa fa-user-plus" aria-hidden="true"></i> Regisztr√°ci√≥
            </a>
            <a href="{% url 'quiz:login' %}" class="btn btn-lg btn-info mt-2 mr-2">
              Bejelentkez√©s
            </a>
          </div>

        {% else %}
          <!-- BEJELENTKEZETT FELHASZN√ÅL√ì -->
          <h1 class="h3 mb-2">Szia, {{ request.user.username }}! üëã</h1>
          <p class="text-muted mb-4">
            V√°lassz egy kv√≠zt az al√°bbiak k√∂z√ºl, √©s kezd≈ëdhet a j√°t√©k.
          </p>

          {% if quizzes %}
            <div class="text-left">
              <h4 class="h5 mb-3">El√©rhet≈ë kv√≠zek:</h4>
              <div class="list-group">
                {% for quiz in quizzes %}
                  <a href="{% url 'quiz:play' quiz.id %}"
                     class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                    <div>
                      <strong>{{ quiz.title }}</strong><br>
                      {% if quiz.description %}
                        <small class="text-muted">{{ quiz.description|truncatechars:80 }}</small>
                      {% endif %}
                    </div>
                    <span class="btn btn-sm btn-info">
                      Kv√≠z ind√≠t√°sa
                    </span>
                  </a>
                {% endfor %}
              </div>
            </div>
          {% else %}
            <p class="text-muted mb-4">
              Jelenleg nincs el√©rhet≈ë kv√≠z sz√°modra.
            </p>
          {% endif %}

          <div class="mt-4">
            <a href="{% url 'quiz:leaderboard' %}" class="btn btn-outline-secondary mr-2 mb-2">
              üèÜ Ranglista megtekint√©se
            </a>
          </div>

        {% endif %}

      </div>

    </div>
  </div>
</div>
{% endblock content %}
